<!DOCTYPE html>
<html>
  <head>
    <title>Jeux de labyrinthe</title>
    <style>
      #labyrinth {
        width: 400px;
        height: 400px;
        margin: auto;
        border: 1px solid black;
        border-collapse: collapse;
      }
      #labyrinth td {
        width: 20px;
        height: 20px;
        border: 1px solid black;
        padding: 0;
        margin: 0;
      }
      #labyrinth td.start {
        background-color: green;
      }
      #labyrinth td.finish {
        background-color: red;
      }
      #labyrinth td.path {
        background-color: yellow;
      }
      #labyrinth td.wall {
        background-color: black;
      }
    </style>
  </head>
  <body>
    <h1>Jeux de labyrinthe</h1>
    <table id="labyrinth"></table>
    <script>
	
	const rows = 20;
const cols = 20;

const labyrinth = [];
const visited = [];

const startRow = Math.floor(Math.random() * rows);
const startCol = Math.floor(Math.random() * cols);
const finishRow = Math.floor(Math.random() * rows);
const finishCol = Math.floor(Math.random() * cols);

let currentRow = startRow;
let currentCol = startCol;

for (let row = 0; row < rows; row++) {
  labyrinth[row] = [];
  visited[row] = [];
  for (let col = 0; col < cols; col++) {
    labyrinth[row][col] = "wall";
    visited[row][col] = false;
  }
}

function isInside(row, col) {
  return row >= 0 && row < rows && col >= 0 && col < cols;
}

function getNeighbors(row, col) {
  const neighbors = [];
  if (isInside(row - 1, col) && !visited[row - 1][col]) {
    neighbors.push([row - 1, col]);
  }
  if (isInside(row + 1, col) && !visited[row + 1][col]) {
    neighbors.push([row + 1, col]);
  }
  if (isInside(row, col - 1) && !visited[row][col - 1]) {
    neighbors.push([row, col - 1]);
  }
  if (isInside(row, col + 1) && !visited[row][col + 1]) {
    neighbors.push([row, col + 1]);
  }
  return neighbors;
}

function generateLabyrinth(row, col) {
  visited[row][col] = true;
  labyrinth[row][col] = "path";
  const neighbors = getNeighbors(row, col);
  while (neighbors.length > 0) {
    const index = Math.floor(Math.random() * neighbors.length);
    const [neighborRow, neighborCol] = neighbors[index];
    neighbors.splice(index, 1);
    if (visited[neighborRow][neighborCol]) {
      continue;
    }
    if (neighborRow === finishRow && neighborCol === finishCol) {
      labyrinth[neighborRow][neighborCol] = "finish";
      visited[neighborRow][neighborCol] = true;
      return;
    }
    // update current position
    currentRow = neighborRow;
    currentCol = neighborCol;
    // mark as visited and path
    visited[currentRow][currentCol] = true;
    labyrinth[currentRow][currentCol] = "path";
    // continue with new neighbors
    const newNeighbors = getNeighbors(currentRow, currentCol);
    neighbors.push(...newNeighbors);
  }
}

generateLabyrinth(startRow, startCol);

// create HTML table
const table = document.getElementById("labyrinth");
for (let row = 0; row < rows; row++) {
  const tr = document.createElement("tr");
  for (let col = 0; col < cols; col++) {
    const td = document.createElement("td");
    td.className = labyrinth[row][col];
    tr.appendChild(td);
  }
  table.appendChild(tr);
}

// add event listener to start and finish cells
const startCell = document.getElementsByClassName("start")[0];
startCell.addEventListener("click", () => {
  alert("You clicked the start cell!");
});

const finishCell = document.getElementsByClassName("finish")[0];
finishCell.addEventListener("click", () => {
  alert("Congratulations, you made it to the finish!");
});
	
	</script>
  </body>
</html>